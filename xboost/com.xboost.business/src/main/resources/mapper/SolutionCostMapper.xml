<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xboost.mapper.SolutionCostMapper">

    <cache/>

    <insert id="addCost">
        INSERT into t_model_arg(scenariosId ,model_type,plan,selected,site_people_work,distrib_people_work,site_count,people_num_per_site,
        full_time_staff,part_time_staff,full_time_salary,part_time_salary,full_time_work_day,part_time_work_day,sum1,sum2,sum3,
        total_daily_labor_cost,pickup_transport_cost,branch_transport_cost,delivery_transport_cost,total_cost,
        str1,str2,str3,create_time,update_time)
        VALUES (#{scenariosId},#{modelType},#{plan},#{selected},#{sitePeopleWork},#{distribPeopleWork},#{siteCount},#{peopleNumPerSite},
        #{fullTimeStaff},#{partTimeStaff},#{fullTimeSalary},#{partTimeSalary},#{fullTimeWorkDay},#{partTimeWorkDay},#{sum1},#{sum2},
        #{sum3},#{totalDailyLaborCost},#{pickupTransportCost},#{branchTransportCost},#{deliveryTransportCost},#{totalCost},
        #{str1},#{str2},#{str3},#{createTime},#{updateTime})
    </insert>

    <select id="findAll" parameterType="map" resultType="Cost" resultMap="costMap">
        SELECT * FROM t_solution_cost where scenariosId = #{scenariosId}
    </select>

    <select id="findByParam" parameterType="map" resultType="Cost" resultMap="costMap">
        SELECT * from t_solution_cost where scenariosId = #{scenariosId} and model_type=#{modelType} and plan =#{plan}
    </select>

    <select id="findById" resultType="com.xboost.pojo.Cost"  resultMap="costMap">
        SELECT * FROM t_solution_cost where id = #{id}
    </select>

    <update id="editCost">
        UPDATE t_model_arg SET scenariosId = #{scenariosId},model_type=#{modelType},plan=#{plan},selected=#{selected},site_people_work = #{sitePeopleWork},
        distrib_people_work = #{distribPeopleWork},site_count=#{siteCount},people_num_per_site = #{peopleNumPerSite},
        full_time_staff= #{fullTimeStaff},part_time_staff = #{partTimeStaff},full_time_salary = #{fullTimeSalary},
        part_time_salary = #{partTimeSalary},full_time_work_day = #{fullTimeWorkDay},part_time_work_day=#{partTimeWorkDay},
        sum1=#{sum1},sum2=#{sum2},sum3=#{sum3},total_daily_labor_cost=#{totalDailyLaborCost},pickup_transport_cost=#{pickupTransportCost},
        branch_transport_cost=#{branchTransportCost},delivery_transport_cost=#{deliveryTransportCost},total_cost={totalCost}
        where scenariosId = #{scenariosId} and model_type=#{modelType} and plan =#{plan}
    </update>

    <update id="editSiteInfo">
        UPDATE t_site_info SET total_vol=#{totalVol},full_time_staff1 = #{fullTimeStaff1},part_time_staff1 = #{partTimeStaff1},
        full_time_staff2= #{fullTimeStaff2},part_time_staff2 = #{partTimeStaff2}
        where scenariosId = #{scenariosId} and site_code=#{siteCode}
    </update>

    <select id="findTotalVol" resultType="map" resultMap="costMap">
        SELECT * FROM t_solution_cost where scenariosId = #{scenariosId}
    </select>


    <resultMap id="costMap" type="Cost">
        <result property="id" column="id"/>
        <result property="scenariosId" column="scenariosId"/>
        <result property="modelType" column="model_type"/>
        <result property="plan" column="plan"/>
        <result property="selected" column="selected"/>
        <result property="site_people_work" column="sitePeopleWork"/>
        <result property="distrib_people_work" column="distribPeopleWork"/>
        <result property="site_count" column="siteCount"/>
        <result property="people_num_per_site" column="peopleNumPerSite"/>
        <result property="full_time_staff" column="fullTimeStaff"/>
        <result property="part_time_staff" column="partTimeStaff"/>
        <result property="full_time_salary" column="fullTimeSalary"/>
        <result property="part_time_salary" column="partTimeSalary"/>
        <result property="full_time_work_day" column="fullTimeWorkDay"/>
        <result property="part_time_work_day" column="partTimeWorkDay"/>
        <result property="sum1" column="sum1"/>
        <result property="sum2" column="sum2"/>
        <result property="sum3" column="sum3"/>
        <result property="total_daily_labor_cost" column="totalDailyLaborCost"/>
        <result property="pickup_transport_cost" column="pickupTransportCost"/>
        <result property="branch_transport_cost" column="branchTransportCost"/>
        <result property="delivery_transport_cost" column="deliveryTransportCost"/>
        <result property="total_cost" column="totalCost"/>
    </resultMap>

</mapper>